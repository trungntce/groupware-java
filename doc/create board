/*------------------------------------------------------------------------------
-- 개체 이름: SAMPLE.TB_BOARD
-- 만든 날짜: 2020-12-16 오후 7:02:48
-- 마지막으로 수정한 날짜: 2020-12-16 오후 7:02:54
-- 상태: VALID
------------------------------------------------------------------------------*/

CREATE TABLE SAMPLE.TB_BOARD (
  BDNO         NUMBER(10)             NOT NULL,
  PBDNO        NUMBER(10)                 NULL,
  MBNO         NUMBER(10)                 NULL,
  TITLE        VARCHAR2(200 BYTE)     NOT NULL,
  CONTENT      CLOB                       NULL,
  DEL_YN       CHAR(1 BYTE)          DEFAULT 'N'               NULL,
  REGDT        DATE                  DEFAULT SYSDATE                   NOT NULL
)
LOB (CONTENT) STORE AS (
    TABLESPACE SAMPLE_DATA
    ENABLE STORAGE IN ROW
    CHUNK 8192
    NOCACHE
    LOGGING
    STORAGE (
        INITIAL     64K
        NEXT        1M
        MINEXTENTS  1
        MAXEXTENTS  UNLIMITED
    )
)
TABLESPACE SAMPLE_DATA
PCTFREE    10
PCTUSED    0
INITRANS   1
MAXTRANS   255
STORAGE (
    INITIAL     64K
    NEXT        1M
    MINEXTENTS  1
    MAXEXTENTS  UNLIMITED
)
LOGGING
NOCACHE
MONITORING
NOPARALLEL
;

COMMENT ON TABLE SAMPLE.TB_BOARD IS '게시판';

COMMENT ON COLUMN SAMPLE.TB_BOARD.BDNO IS '게시판키';

COMMENT ON COLUMN SAMPLE.TB_BOARD.PBDNO IS '상위게시판키';

COMMENT ON COLUMN SAMPLE.TB_BOARD.MBNO IS '회원키';

COMMENT ON COLUMN SAMPLE.TB_BOARD.TITLE IS '제목';

COMMENT ON COLUMN SAMPLE.TB_BOARD.CONTENT IS '내용';

COMMENT ON COLUMN SAMPLE.TB_BOARD.DEL_YN IS '삭제여부';

COMMENT ON COLUMN SAMPLE.TB_BOARD.REGDT IS '등록일시';

CREATE UNIQUE INDEX SAMPLE.XPK_BOARD
ON SAMPLE.TB_BOARD (BDNO)
PCTFREE 10
INITRANS 2
MAXTRANS 255
STORAGE (
    INITIAL 64K
    NEXT 1M
    MINEXTENTS 1
    MAXEXTENTS UNLIMITED
    PCTINCREASE 0
)
TABLESPACE SAMPLE_IDX
LOGGING
NOPARALLEL;

ALTER TABLE SAMPLE.TB_BOARD ADD
(
    PRIMARY KEY ( BDNO )
);

ALTER TABLE SAMPLE.TB_BOARD ADD
(
    FOREIGN KEY ( PBDNO )
        REFERENCES SAMPLE.TB_BOARD ( BDNO )
        ON DELETE  SET NULL
);

ALTER TABLE SAMPLE.TB_BOARD ADD
(
    FOREIGN KEY ( MBNO )
        REFERENCES SAMPLE.TB_MEMBER ( MBNO )
        ON DELETE  SET NULL
);

CREATE SEQUENCE SAMPLE.SEQ_BOARD
    START WITH 1
    INCREMENT BY 1
    MAXVALUE 999999999
    MINVALUE 1
    NOCYCLE
    CACHE 20
    NOORDER;
